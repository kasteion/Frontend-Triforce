<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This</title>
</head>
<body>
    <a href="/ejercicios/">Go back</a>
    <p><em>Abre la consola</em></p>
    <h1><code>this</code> se refiere a un objeto. Este objeto es el que
    actualmente está ejecutando un pedazo de código.</h1>
    <script>
        // this en el scope global (this es window)
        console.log(`this: ${this}`)

        // this en el scope de una función (this es window)
        function whoIsThis(){
            return this
        }
        console.log(`whoIsThis(): ${whoIsThis()}`)

        // this en el scope de una función en strict mode (this es indefinido)
        function whoIsThisStrict(){
            'use strict'
            return this
        }
        console.log(`whoIsThisStrict(): ${whoIsThisStrict()}`)

        // this en el contexto de un objeto ('Hola, soy Gabriel')
        const person = {
            name: 'Gabriel',
            saludar: function() {
                console.log(`Hola, soy ${this.name}`)
            }
        }
        person.saludar()

        // this cuando sacamos una función de un objeto. ('Hola, soy')
        const action = person.saludar
        action()

        //this dentro del contexto de una clase ('Hola, me llamo Angela')
        function Person(name) {
            this.name = name
        }

        Person.prototype.saludar = function() {
            console.log(`Hola, me llamo ${this.name}`)
        }

        const angela = new Person('Angela')
        angela.saludar()
    </script>
</body>
</html>