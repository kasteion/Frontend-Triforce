<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generators</title>
</head>
<body>
    <a href="/ejercicios/">Go Back</a>
    <p><em>Abre la consola</em></p>
    <script>
        // Los generadores son funciones de las que se puede salir y volver a 
        // entrar. Su contexto (asociaci칩n de variables) ser치 conservado entre
        // las reentradas. Cada vez que llamamos next, la ejecuci칩n del 
        // generador va a continuar hasta el pr칩ximo yield
        function* simpleGenerator(){
            console.log('GENERATOR START')
            yield 1
            yield 2
            yield 3
            console.log('GENERATOR END')
        }

        const gen = simpleGenerator()
        // gen.next()

        // Un ejemplo para crear ids
        function* idMaker(){
            let id = 1
            while(true){
                yield id
                id++
            }
        }

        const gentIdMaker = idMaker()

        // genIdMaker.next()

        function* idMakerWithReset(){
            let id = 1
            let reset 
            while(true){
                reset = yield id
                if (reset){
                    id = 1
                } else {
                    id++
                }
            }
        }
        
        const genIdMakerWithReset = idMakerWithReset()

        // genIdMakerWithReset.next()
        // genIdMakerWithReset.next(true)

        // Un ejemplo con la secuencia fibonacci
        function* fibonacci(){
            let a = 1
            let b = 1
            while(true) {
                const nextNum = a+b
                a = b
                b = nextNum
                yield nextNum
            }
        }

        const genFibonacci = fibonacci()

        // genFibonacci.next()
    </script>
</body>
</html>